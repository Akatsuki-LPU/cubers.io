{% extends "common/base.html" %}

{% block head %}
{{ super() }}
    {% block additional_styles %}
        {% assets "timer_desktop_css" %}
        <link rel="stylesheet" href="{{ ASSET_URL }}" />
        {% endassets %}
    {% endblock %}
{% endblock %}

{% block content %}
<canvas id="shapes"></canvas>
<div class="container-fluid timer-container">
    <div class="row" style="height: 100%;">

        <div class="left_portion">
            <div class="sidebar_wrapper">
                <div class="sidebar">
                    <div class="times text-center">
                        <div class="solves_header">Solves</div>
                        {% for solve in user_solves %}
                        <div class="single_time">{{ solve }}</div>
                        {% endfor %}
                    </div>
                    {% if show_scramble_preview %}
                    <div class="scramble_preview flex_full_center">
                        <canvas id="normal_scramble_image"></canvas>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="right_portion">
            <div class="scramble_wrapper">
                <div class="scramble_area">
                    <div class="scram flex_full_center text-center">{{scramble}}</div>
                </div>
            </div>
            
            <div class="timer_controls_wrapper">
                <div id="the_timer">
                    <div class="timer_text text-center">0.00</div>
                </div>
                <div class="mods_area">
                    <div class="controls_wrapper">
                        <div class="control_icon"><button class="btn btn-lg btn-outline-light btn-timer-control"><i class="fas fa-undo"></i></button></div>
                        <div class="control_icon"><button class="btn btn-lg btn-outline-light btn-timer-control">+2</button></div>
                        <div class="control_icon"><button class="btn btn-lg btn-outline-light btn-timer-control">DNF</button></div>
                        <div class="control_icon"><button class="btn btn-lg btn-outline-light btn-timer-control"><i class="far fa-comment"></i></button></i></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="fade-wrapper">
    <div>
        <canvas id="big_scramble_image"></canvas>
    </div>
</div>
{% endblock %}

{% block additional_script %}
{% assets "init_js" %}
<script type="text/javascript" src="{{ ASSET_URL }}"></script>
{% endassets %}
<script>
    (function() {
        window.app.scramble = {{scramble|tojson}};
        window.app.eventName = {{event_name|tojson}};
        window.app.doShowScramble = {{show_scramble_preview|tojson}}
    })();
</script>
{% assets "timer_timer_js" %}
<script type="text/javascript" src="{{ ASSET_URL }}"></script>
{% endassets %}
{% endblock %}